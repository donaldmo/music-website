<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Website - Motswiri Donald</title>

  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css">

  <script src="https://unpkg.com/wavesurfer.js@6.2.0/dist/wavesurfer.js"></script>

</head>

<body>
  <div class="container">
    <div class="navbar">
      <img src="img/logo.png" alt="logo" class="logo">

      <ul>
        <li><a href="#home">HOME</a></li>
        <li><a href="#home">ABOUT</a></li>
        <li><a href="#home">SPESIFICATIONS</a></li>
        <li><a href="#home">PRODUCTS</a></li>
        <li><a href="#home">CONNECT</a></li>
      </ul>
    </div>

    <div class="content">
      <div class="left-col">
        <h1>THE <br />REAL <br />SOUND</h1>
      </div>

      <div class="right-col">
        <p>Click Here To Listen.</p>
        <img src="img/play.png" alt="play" id="icon">
        <img src="img/controls/stop.png" id="stopBtn">
        <img src="img/controls/volume.png" id="volumeBtn">
        <div class="controls">

        </div>
      </div>
    </div>
    <div id="waveform"></div>
  </div>

  <!-- <audio id="mySong">
    <source src="Chronical-Deep-Left-With-A-Smile-_Original-Mix_.mp3"/>
  </audio> -->

  <script>

    var wavesurfer = WaveSurfer.create({
      container: '#waveform',
      waveColor: '#ffe5e4',
      progressColor: '#03cebf',
      barWidth: 4,
      height: 90,
      responsive: true,
      hideScrollbar: true,
      barRadius: 4
    });

    wavesurfer.load('Chronical-Deep-Left-With-A-Smile-_Original-Mix_.mp3');

    var mySong = document.getElementById("mySong")
    var icon = document.getElementById("icon")
    var stopBtn = document.getElementById("stopBtn")
    var volumeBtn = document.getElementById("volumeBtn")

    icon.onclick = function () {
      wavesurfer.playPause()
      if (icon.src.includes('play.png')) {
        icon.src = 'img/pause.png'
      } else {
        icon.src = 'img/play.png'
      }
    }

    stopBtn.onclick = () => {
      wavesurfer.stop()
      icon.src = 'img/play.png'
    }

    volumeBtn.onclick = () => {
      wavesurfer.toggleMute()
      if (volumeBtn.src.includes('volume.png')) {
        volumeBtn.src = 'img/controls/mute.png'
      } else {
        volumeBtn.src = 'img/controls/volume.png'
      }
    }

    wavesurfer.on('finish', function () {
      icon.src = 'img/play.png'
      wavesurfer.stop()
    })

    // icon.onclick = function () {

    //   if (mySong.paused) {
    //     mySong.play();
    //     icon.src = 'img/pause.png';
    //   }

    //   else {
    //     mySong.pause();
    //     icon.src = "img/play.png";
    //   }
    // }
  </script>

</body>

</html>